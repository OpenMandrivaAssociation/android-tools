--- platform/system/core/libziparchive/zip_writer.cc.omv~	2017-05-08 00:34:39.322654229 +0200
+++ platform/system/core/libziparchive/zip_writer.cc	2017-05-08 00:35:37.325194747 +0200
@@ -24,6 +24,7 @@
 
 #include <cassert>
 #include <cstdio>
+#include <cstring>
 #include <memory>
 #include <vector>
 #include <zlib.h>
@@ -300,7 +301,7 @@ int32_t ZipWriter::CompressBytes(FileInf
   assert(z_stream_->avail_out != 0);
 
   // Prepare the input.
-  z_stream_->next_in = reinterpret_cast<const uint8_t*>(data);
+  z_stream_->next_in = const_cast<uint8_t*>(reinterpret_cast<const uint8_t*>(data));
   z_stream_->avail_in = len;
 
   while (z_stream_->avail_in > 0) {
